# Sicurezza directory
<Files "*.php">
    <RequireAll>
        Require all granted
    </RequireAll>
</Files>

# Blocca accesso diretto a file sensibili
<FilesMatch "\.(md|txt|log)$">
    Require all denied
</FilesMatch>

# Blocca accesso a directory di configurazione
# Nota: Le direttive Directory non sono permesse in .htaccess
# Queste protezioni sono gestite nel virtual host Apache

# Headers di sicurezza
<IfModule mod_headers.c>
    Header always set X-Frame-Options "DENY"
    Header always set X-Content-Type-Options "nosniff"
    Header always set Referrer-Policy "no-referrer"
    Header always set X-XSS-Protection "1; mode=block"
    Header always set Strict-Transport-Security "max-age=31536000; includeSubDomains"
</IfModule>

# Compressione GZIP
<IfModule mod_deflate.c>
    AddOutputFilterByType DEFLATE text/css text/javascript application/javascript
</IfModule>

# Cache per asset statici
<IfModule mod_expires.c>
    ExpiresActive On
    ExpiresByType text/css "access plus 1 month"
    ExpiresByType application/javascript "access plus 1 month"
    ExpiresByType image/png "access plus 6 months"
    ExpiresByType image/jpg "access plus 6 months"
    ExpiresByType image/jpeg "access plus 6 months"
</IfModule>